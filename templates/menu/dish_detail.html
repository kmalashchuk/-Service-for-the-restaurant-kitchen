{% extends "base.html" %}
{% block title %}{{ dish.name }}{% endblock %}
{% block content %}
<h2>{{ dish.name }}</h2>
<p><strong>Type:</strong> {{ dish.dish_type }}</p>
<p><strong>Price:</strong> ${{ dish.price }}</p>
<p><strong>Description:</strong> {{ dish.description }}</p>
<p><strong>Ingredients:</strong> {{ dish.ingredients.all|join:", " }}</p>
<p><strong>Cooks:</strong> {{ dish.cooks.all|join:", " }}</p>

<a class="btn btn-secondary" href="{% url 'menu:dish-update' dish.pk %}">Edit</a>
<a class="btn btn-danger" href="{% url 'menu:dish-delete' dish.pk %}">Delete</a>
<a class="btn btn-outline-primary" href="{% url 'menu:dish-list' %}">Back to list</a>

  <h2>{{ dish.name }}</h2>
<p>{{ dish.description }}</p>

<h4>Assigned cooks:</h4>
<ul>
  {% for cook in dish.cooks.all %}
    <li>{{ cook.username }}</li>
  {% empty %}
    <li>No cooks assigned yet.</li>
  {% endfor %}
</ul>

<form method="post" action="{% url 'menu:toggle-assign-to-dish' dish.pk %}">
  {% csrf_token %}
  {% if user in dish.cooks.all %}
    <button type="submit" class="btn btn-danger">Unassign Me</button>
  {% else %}
    <button type="submit" class="btn btn-success">Assign Me</button>
  {% endif %}
</form>
{% endblock %}
